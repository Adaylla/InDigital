{% extends "base.html" %}
{% load static %}
{% load allauth account socialaccount %}

{% block title %}Login - InDigital{% endblock %}

{% block content %}
<div id="loginContainer">
    <div class="wrap">
        <!-- Lado Esquerdo - Imagem -->
        <div class="hidden-mobile">
            <img src="{% static 'assets/img/indigital.png' %}" 
                 alt="Logo InDigital" 
                 class="img-fluid">
        </div>
        
        <!-- Lado Direito - Formulário -->
        <div class="login-wrap">
            <h2>Login</h2>
            
            <div class="text-center mb-4">
                <h5>Acesso ao Sistema</h5>
                <p>Utilize sua conta do SUAP para acessar o sistema</p>
            </div>
            
            <form method="POST" class="signin-form"> 
                {% csrf_token %}
                <div class="text-center mb-4">
                    <a href="{% provider_login_url 'suap' %}" 
                       class="btn btn-success btn-md px-4 py-2">
                        <i class="fas fa-user-graduate me-2"></i>
                        Entrar com SUAP
                    </a>
                </div>
            </form>

            <div class="text-center mt-4">
                <small class="d-block mb-2 text-muted">
                    Sistema integrado com SUAP - Instituto Federal
                </small>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Adiciona classe para estilos específicos do login
        document.body.classList.add('login-page');
        
        // Remove completamente qualquer influência do sidebar
        document.body.classList.remove('sidebar-open');
        document.body.classList.remove('sidebar-collapse');
        document.body.classList.remove('sidebar-collapsed');
        document.body.classList.remove('hold-transition');
        document.body.classList.remove('sidebar-mini');
        document.body.classList.remove('layout-fixed');
        
        // Reset radical de estilos
        const contentWrapper = document.querySelector('.content-wrapper');
        if (contentWrapper) {
            contentWrapper.style.cssText = 'margin: 0 !important; padding: 0 !important; width: 100% !important;';
        }
        
        const wrapper = document.querySelector('.wrapper');
        if (wrapper) {
            wrapper.style.cssText = 'margin: 0 !important; padding: 0 !important; width: 100% !important; min-height: 100vh !important;';
        }
    });
</script>
{% endblock %}